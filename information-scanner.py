import os.path
import sys
import subprocess
import time
import tqdm

def isExist(filename):
    return os.path.exists(filename)

def decodeAPK(filename):
    cmd = subprocess.Popen(['apktool', 'd','-f', filename], stdout=subprocess.PIPE,shell=True)
    pbar = tqdm.tqdm(range (100), desc=" [-] Analyzing APK", ncols=80)
    for i in pbar:
        time.sleep(0.01)
        if (i == 50):
            while (cmd.stdout.readline().decode("utf-8")):
                time.sleep(0.01)
        if (i == 99):
            pbar.set_description(" [+] Analyzing APK")
    


decodeAPK('APKey.apk')
